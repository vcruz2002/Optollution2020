<html>

  <head>
    <script src="https://cdn.anychart.com/js/latest/anychart.min.js" type="text/javascript"></script>
    <script src="https://cdn.anychart.com/js/latest/data-adapter.min.js" type="text/javascript"></script>
    <script src="https://cdn.anychart.com/themes/latest/wines.min.js" type="text/javascript"></script>
  </head>

  <body>
    <div id="container"></div>
    <table id="tableWithData" border="1" cellpadding="5">
      <caption>Sources of Emissions of Air Pollution</caption>
      <thead>
        <tr>
           <th></th> 
          <th>Commercial and Residential Heating</th>
          <th>Other</th>
          <th>Consumer and Commercial products</th>
          <th>Agriculture</th>
            <th>Transportation</th>
            <th>Industry</th>
        </tr>
      </thead>
      <tbody>
        <tr>
            <td></td>
          <td>1</td>
          <td>2</td>
          <td>8</td>
            <td>10</td>
            <td>27</td>
            <td>52</td>
        </tr>
      </tbody>
    </table>
      <script>
      anychart.onDocumentLoad(function() {
     anychart.theme(anychart.themes.wines);
     var tableData = anychart.data.parseHtmlTable('#tableWithData');
	   var chart = anychart.bar();
	   chart.data(tableData);
     chart.yScale().stackMode('percent');
     var legend = chart.legend();
     legend.enabled(true);
     var tooltip = chart.tooltip();
     tooltip.displayMode('union');
     tooltip.textFormatter('{%SeriesName}: {%Value} ({%YPercentOfCategory}%)');
	   chart.container('container');
	   chart.draw();
});
      </script>
  </body>
</html>